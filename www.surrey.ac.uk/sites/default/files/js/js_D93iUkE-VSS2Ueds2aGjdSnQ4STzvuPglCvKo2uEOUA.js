"use strict";!function(e){e.behaviors.navBarConverter={attach(e){const l={globals:{form_tag_input_boxes:".exposed-filter-form input",active_filter_wrapper:".active-filter-display",active_title_tag:".checkbox-title",active_tag:"activeTags",active_submit_button:'.active-filter-submit input[type="submit"]',active_pager:".pager .pager__item",active_filter_container:document.getElementById("active-filter-container")},init(){l.hideOrShowActiveTitle(),l.addCheckedBoxesToActiveTag(),l.addClickToFilters(),l.saveQueryData(),l.whenPagerIsClicked()},getFormInputBoxes(){var e=l.globals.form_tag_input_boxes;return document.querySelectorAll(e)},getCheckboxes(){var e=l.getFormInputBoxes();const t=Array.from(e);return t.filter(e=>!0===e.checked&&"All"!==e.value)},addCheckedBoxesToActiveTag(){var e=l.globals.active_filter_wrapper;const t=document.querySelector(e),a=l.getCheckboxes(),i=t.getAttribute("data-active-colour"),c=a.map(e=>l.activeFilterMarkup(e,i));t.innerHTML=c.join(" ")},activeFilterMarkup(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#003e7e",a=l.globals.active_tag,i=e.labels?e.labels[0].innerText:e.parentNode.children[1].innerHTML;return'<button class="m-1 wrap-text btn btn-outline-primary align-items-center d-inline-flex p-2 '.concat(a,'" data-uncheck="').concat(e.id,'" aria-label="Remove filter: ').concat(i,'">\n\n              <svg class="flex-shrink-0" height="20px" width="20px">\n                <circle cx="11" cy="11" r="8" stroke="').concat(t,'" stroke-width="2" fill="').concat(t,'"></circle>\n                <path stroke="white" stroke-width="2" fill="none" d="M6.25,6.25,15.75,15.75"></path>\n                <path stroke="white" stroke-width="2" fill="none" d="M6.25,15.75,15.75,6.25"></path>\n              </svg>\n\n            <span class="mt-1 text-left pl-2">').concat(i,"</span>\n          </button>")},hideOrShowActiveTitle(){const e=document.querySelector(l.globals.active_title_tag);l.getCheckboxes().length<1?(l.globals.active_filter_container.classList.remove("d-block"),l.globals.active_filter_container.classList.add("d-none"),e.style.visibility="hidden"):(l.globals.active_filter_container.classList.remove("d-none"),l.globals.active_filter_container.classList.add("d-block"),e.style.visibility="visible")},addClickToFilters(){var e=".".concat(l.globals.active_tag);const t=Array.from(document.querySelectorAll(e)),a=document.querySelector(l.globals.active_submit_button);t.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("data-uncheck");document.getElementById(e).checked=!1,a&&a.click()})})},saveQueryData(){const e=l.getCheckboxes();var t=e.map(e=>({name:e.name,value:e.value})),a=sessionStorage.getItem("activeTab")||"null";"null"!==a&&"undefined"!==a||sessionStorage.removeItem("activeTab"),sessionStorage.setItem("activeTab",JSON.stringify(t))},createQueryString(){const e=JSON.parse(sessionStorage.getItem("activeTab"))||null;if(0<e.length){const t=e.map(e=>"".concat(e.name,"=").concat(e.value));return t.join("&")}},whenPagerIsClicked(){const e=new URLSearchParams(window.location.search);const t=[];for(const r of e.entries())"page"!==r[0]&&t.push({name:r[0],value:r[1]});const a=t.map(e=>"".concat(e.name,"=").concat(e.value));var i=a.join("&");const c="?".concat(i,"&page"),n=Array.from(document.querySelectorAll(l.globals.active_pager));n.map(t=>{if(null!=t.children[0]){const a=t.children[0];let e=a.href;e=e.replace(/\?.*page/,c),a.setAttribute("href",e)}})}};l.init()}}}((jQuery,Drupal),drupalSettings);;
var Util=function(r){var n=!1,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};function t(t){var n=this,e=!1;return r(this).one(a.TRANSITION_END,function(){e=!0}),setTimeout(function(){e||a.triggerTransitionEnd(n)},t),this}var a={TRANSITION_END:"bsTransitionEnd",getUID:function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},getSelectorFromElement:function(t){var n=t.getAttribute("data-target");n&&"#"!==n||(n=t.getAttribute("href")||"");try{return 0<r(document).find(n).length?n:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){r(t).trigger(n.end)},supportsTransitionEnd:function(){return Boolean(n)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,n,e){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],o=n[r],o=o&&a.isElement(o)?"element":{}.toString.call(o).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if(!new RegExp(i).test(o))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+o+'" but expected type "'+i+'".')}}};return n=function(){if(window.QUnit)return!1;var t,n=document.createElement("bootstrap");for(t in e)if(void 0!==n.style[t])return{end:e[t]};return!1}(),r.fn.emulateTransitionEnd=t,a.supportsTransitionEnd()&&(r.event.special[a.TRANSITION_END]={bindType:n.end,delegateType:n.end,handle:function(t){if(r(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}),a}(jQuery);;
function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Collapse=function(a){var t="collapse",l="bs.collapse",e="."+l,n=a.fn[t],r={toggle:!0,parent:""},i={toggle:"boolean",parent:"(string|element)"},o={SHOW:"show"+e,SHOWN:"shown"+e,HIDE:"hide"+e,HIDDEN:"hidden"+e,CLICK_DATA_API:"click"+e+".data-api"},g="show",h="collapse",_="collapsing",c="collapsed",d="width",f="height",u=".show, .collapsing",m='[data-toggle="collapse"]',s=function(){function s(e,t){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(t),this._triggerArray=a.makeArray(a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var n=a(m),i=0;i<n.length;i++){var r=n[i],s=Util.getSelectorFromElement(r);null!==s&&0<a(s).filter(e).length&&this._triggerArray.push(r)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=s.prototype;return e.toggle=function(){a(this._element).hasClass(g)?this.hide():this.show()},e.show=function(){var e,t,n,i,r=this;this._isTransitioning||a(this._element).hasClass(g)||(e=!this._parent||(e=a.makeArray(a(this._parent).children().children(u))).length?e:null)&&(i=a(e).data(l))&&i._isTransitioning||(n=a.Event(o.SHOW),a(this._element).trigger(n),n.isDefaultPrevented()||(e&&(s._jQueryInterface.call(a(e),"hide"),i||a(e).data(l,null)),t=this._getDimension(),a(this._element).removeClass(h).addClass(_),this._element.style[t]=0,this._triggerArray.length&&a(this._triggerArray).removeClass(c).attr("aria-expanded",!0),this.setTransitioning(!0),n=function(){a(r._element).removeClass(_).addClass(h).addClass(g),r._element.style[t]="",r.setTransitioning(!1),a(r._element).trigger(o.SHOWN)},Util.supportsTransitionEnd()?(i="scroll"+(t[0].toUpperCase()+t.slice(1)),a(this._element).one(Util.TRANSITION_END,n).emulateTransitionEnd(600),this._element.style[t]=this._element[i]+"px"):n()))},e.hide=function(){var e=this;if(!this._isTransitioning&&a(this._element).hasClass(g)){var t=a.Event(o.HIDE);if(a(this._element).trigger(t),!t.isDefaultPrevented()){t=this._getDimension();if(this._element.style[t]=this._element.getBoundingClientRect()[t]+"px",Util.reflow(this._element),a(this._element).addClass(_).removeClass(h).removeClass(g),this._triggerArray.length)for(var n=0;n<this._triggerArray.length;n++){var i=this._triggerArray[n],r=Util.getSelectorFromElement(i);null===r||a(r).hasClass(g)||a(i).addClass(c).attr("aria-expanded",!1)}this.setTransitioning(!0);function s(){e.setTransitioning(!1),a(e._element).removeClass(_).addClass(h).trigger(o.HIDDEN)}this._element.style[t]="",Util.supportsTransitionEnd()?a(this._element).one(Util.TRANSITION_END,s).emulateTransitionEnd(600):s()}}},e.setTransitioning=function(e){this._isTransitioning=e},e.dispose=function(){a.removeData(this._element,l),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(e){return(e=a.extend({},r,e)).toggle=Boolean(e.toggle),Util.typeCheckConfig(t,e,i),e},e._getDimension=function(){return a(this._element).hasClass(d)?d:f},e._getParent=function(){var n=this,e=null,t=(Util.isElement(this._config.parent)?(e=this._config.parent,void 0!==this._config.parent.jquery&&(e=this._config.parent[0])):e=a(this._config.parent)[0],'[data-toggle="collapse"][data-parent="'+this._config.parent+'"]');return a(e).find(t).each(function(e,t){n._addAriaAndCollapsedClass(s._getTargetFromElement(t),[t])}),e},e._addAriaAndCollapsedClass=function(e,t){e&&(e=a(e).hasClass(g),t.length&&a(t).toggleClass(c,!e).attr("aria-expanded",e))},s._getTargetFromElement=function(e){e=Util.getSelectorFromElement(e);return e?a(e)[0]:null},s._jQueryInterface=function(i){return this.each(function(){var e=a(this),t=e.data(l),n=a.extend({},r,e.data(),"object"==typeof i&&i);if(!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||(t=new s(this,n),e.data(l,t)),"string"==typeof i){if(void 0===t[i])throw new Error('No method named "'+i+'"');t[i]()}})},_createClass(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta.2"}},{key:"Default",get:function(){return r}}]),s}();return a(document).on(o.CLICK_DATA_API,m,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=a(this),e=Util.getSelectorFromElement(this);a(e).each(function(){var e=a(this),t=e.data(l)?"toggle":n.data();s._jQueryInterface.call(e,t)})}),a.fn[t]=s._jQueryInterface,a.fn[t].Constructor=s,a.fn[t].noConflict=function(){return a.fn[t]=n,s._jQueryInterface},s}(jQuery);;
!function(e,t){"function"==typeof define&&define.amd?define("priorityNav",t(e)):"object"==typeof exports?module.exports=t(e):e.priorityNav=t(e)}(window||this,function(e){"use strict";function t(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r,e)}var i,s,l,d,c,a,u,p={},v=[],m=!!document.querySelector&&!!e.addEventListener,f={},h=0,y=0,w={initClass:"js-priorityNav",mainNavWrapper:"nav",mainNav:"ul",navDropdownClassName:"nav__dropdown",navDropdownToggleClassName:"nav__dropdown-toggle",navDropdownLabel:"more",navDropdownBreakpointLabel:"menu",breakPoint:500,throttleDelay:50,offsetPixels:0,count:!0,moved:function(){},movedBack:function(){}};function o(e,t){var n,o;e.classList?e.classList.toggle(t):(0<=(o=(n=e.className.split(" ")).indexOf(t))?n.splice(o,1):n.push(t),e.className=n.join(" "))}function n(e){var t,n;t=e,n=window.getComputedStyle(t),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),s=t.clientWidth-n,e.querySelector(c).parentNode===e&&e.querySelector(c).offsetWidth,l=q(e)+f.offsetPixels,t=document,n=window,t=t.compatMode&&"CSS1Compat"===t.compatMode?t.documentElement:t.body,e=t.clientWidth,t=t.clientHeight,n.innerWidth&&e>n.innerWidth&&(e=n.innerWidth,t=n.innerHeight),y=e}function r(e,t){e.querySelector(a).setAttribute("priorityNav-count",v[t].length)}function S(t,n){window.attachEvent?window.attachEvent("onresize",function(){p.doesItFit&&p.doesItFit(t)}):window.addEventListener&&window.addEventListener("resize",function(){p.doesItFit&&p.doesItFit(t)},!0),t.querySelector(a).addEventListener("click",function(){o(t.querySelector(c),"show"),o(this,"is-open"),o(t,"is-open"),-1!==t.className.indexOf("is-open")?t.querySelector(a).setAttribute("aria-expanded","true"):(t.querySelector(a).setAttribute("aria-expanded","false"),t.querySelector(c).blur())}),document.addEventListener("click",function(e){!function(e,t){for(var n=t.charAt(0);e&&e!==document;e=e.parentNode)if("."===n){if(e.classList.contains(t.substr(1)))return e}else if("#"===n){if(e.id===t.substr(1))return e}else if("["===n&&e.hasAttribute(t.substr(1,t.length-2)))return e;return!1}(e.target,"."+n.navDropdownClassName)&&e.target!==t.querySelector(a)&&(t.querySelector(c).classList.remove("show"),t.querySelector(a).classList.remove("is-open"),t.classList.remove("is-open"))}),document.onkeydown=function(e){27===(e=e||window.event).keyCode&&(document.querySelector(c).classList.remove("show"),document.querySelector(a).classList.remove("is-open"),i.classList.remove("is-open"))}}function g(e){return"."!==(e=e.charAt(0))&&"#"!==e}p.doesItFit=function(t){var o,r,i,a,e=0===t.getAttribute("instance")?e:f.throttleDelay;o=function(){var e=t.getAttribute("instance");for(n(t);s<=l&&0<t.querySelector(d).children.length||y<f.breakPoint&&0<t.querySelector(d).children.length;)p.toDropdown(t,e),n(t),y<f.breakPoint&&L(t,e,f.navDropdownBreakpointLabel);for(;s>=v[e][v[e].length-1]&&y>f.breakPoint;)p.toMenu(t,e),y>f.breakPoint&&L(t,e,f.navDropdownLabel);v[e].length<1&&(t.querySelector(c).classList.remove("show"),L(t,e,f.navDropdownLabel)),t.querySelector(d).children.length<1?(t.classList.add("is-empty"),L(t,e,f.navDropdownBreakpointLabel)):t.classList.remove("is-empty"),b(t,e)},r=e,function(){var e=this,t=arguments,n=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||o.apply(e,t)},r),n&&o.apply(e,t)}()};var b=function(e,t){v[t].length<1?(e.querySelector(a).classList.add("priority-nav-is-hidden"),e.querySelector(a).classList.remove("priority-nav-is-visible"),e.classList.remove("priority-nav-has-dropdown")):(e.querySelector(a).classList.add("priority-nav-is-visible"),e.querySelector(a).classList.remove("priority-nav-is-hidden"),e.classList.add("priority-nav-has-dropdown"))},L=function(e,t,n){e.querySelector(a).innerHTML=n},q=(p.toDropdown=function(e,t){e.querySelector(c).firstChild&&0<e.querySelector(d).children.length?e.querySelector(c).insertBefore(e.querySelector(d).lastElementChild,e.querySelector(c).firstChild):0<e.querySelector(d).children.length&&e.querySelector(c).appendChild(e.querySelector(d).lastElementChild),v[t].push(l),b(e,t),0<e.querySelector(d).children.length&&f.count&&r(e,t),f.moved()},p.toMenu=function(e,t){0<e.querySelector(c).children.length&&e.querySelector(d).appendChild(e.querySelector(c).firstElementChild),v[t].pop(),b(e,t),0<e.querySelector(d).children.length&&f.count&&r(e,t),f.movedBack()},function(e){for(var t=e.childNodes,n=0,o=0;o<t.length;o++)3===t[o].nodeType||isNaN(t[o].offsetWidth)||(n+=t[o].offsetWidth);return n});Element.prototype.remove=function(){this.parentElement.removeChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=0,t=this.length;e<t;e++)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])},p.destroy=function(){f&&(document.documentElement.classList.remove(f.initClass),u.remove(),f=null,delete p.init,delete p.doesItFit)},m&&"undefined"!=typeof Node&&(Node.prototype.insertAfter=function(e,t){this.insertBefore(e,t.nextSibling)});return p.init=function(e){var n,o,r;o=e||{},r={},t(n=w,function(e,t){r[t]=n[t]}),t(o,function(e,t){r[t]=o[t]}),f=r,m||"undefined"!=typeof Node?g(f.navDropdownClassName)&&g(f.navDropdownToggleClassName)?(e=document.querySelectorAll(f.mainNavWrapper),t(e,function(e){var t,n;v[h]=[],e.setAttribute("instance",h++),(i=e)?(d=f.mainNav,e.querySelector(d)?(t=e,n=f,u=document.createElement("span"),c=document.createElement("ul"),(a=document.createElement("button")).innerHTML=n.navDropdownLabel,a.setAttribute("type","button"),a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false"),a.setAttribute("aria-controls","dropdownMenuButton"),c.setAttribute("id","dropdownMenuButton"),t.querySelector(d).parentNode!==t?console.warn("mainNav is not a direct child of mainNavWrapper, double check please"):(t.insertAfter(u,t.querySelector(d)),u.appendChild(a),u.appendChild(c),c.classList.add(n.navDropdownClassName),c.classList.add("priority-nav__dropdown"),a.classList.add(n.navDropdownToggleClassName),a.classList.add("priority-nav__dropdown-toggle"),a.setAttribute("type","button"),u.classList.add(n.navDropdownClassName+"-wrapper"),u.classList.add("priority-nav__wrapper"),t.classList.add("priority-nav")),c="."+f.navDropdownClassName,e.querySelector(c)?(a="."+f.navDropdownToggleClassName,e.querySelector(a)?(S(e,f),p.doesItFit(e)):console.warn("couldn't find the specified navDropdownToggle element")):console.warn("couldn't find the specified navDropdown element")):console.warn("couldn't find the specified mainNav element")):console.warn("couldn't find the specified mainNavWrapper element")}),document.documentElement.classList.add(f.initClass)):console.warn("No symbols allowed in navDropdownClassName & navDropdownToggleClassName. These are not selectors."):console.warn("This browser doesn't support priorityNav")},p});;
"use strict";Drupal.behaviors.subnav={attach(t){const n={globals:{subnavContainer:null},init(){n.globals.subnavContainer.classList.add("js-nav-processed");var t=n.globals.subnavContainer.classList.contains("section-priority-nav")?".section-priority-nav":".section-priority-nav-ie",s=(priorityNav.init({mainNavWrapper:t,navDropdownClassName:"subnav-priority",navDropdownLabel:"More",breakPoint:980,throttleDelay:"50"}),setTimeout(function(){const t=document.querySelector(".subnav-priority-wrapper");var s=document.querySelector(".subnav-priority-wrapper button").getAttribute("prioritynav-count");10<s&&t.classList.add("sub-two-nav"),20<s&&t.classList.add("sub-three-nav")},50),document.getElementsByClassName("section-links__link"));for(let t=0;t<s.length;t++){const e=s[t];var a=s[t].textContent;e.setAttribute("title",a)}},showBreadcrumb(){const t=document.getElementsByClassName("site-section-breadcrumb")[0],s=document.getElementsByClassName("section-priority-nav")[0];t&&t.classList.add("active"),s&&s.classList.add("active")}};n.globals.subnavContainer=document.getElementsByClassName("section-priority-nav")[0],n.globals.subnavContainer&&!n.globals.subnavContainer.classList.contains("js-nav-processed")&&n.init(),n.showBreadcrumb()}};;
"use strict";!function(o,t){t.behaviors.toogleApply={attach(t){const l={globals:{submitButton:o(".button.js-form-submit"),filterLinks:".filter-button.collapsed"},init(){l.globals.submitButton.hide();var t=document.querySelectorAll(l.globals.filterLinks);jQuery.each(t,function(){jQuery(this).on("click",function(){setTimeout(function(){4==document.querySelectorAll(l.globals.filterLinks).length?l.globals.submitButton.hide():l.globals.submitButton.show()},100)})})}};l.init()}}}(jQuery,Drupal,drupalSettings);;
"use strict";const debounce=function(i){let e;return function(){const n=this,t=arguments;e&&window.cancelAnimationFrame(e),e=window.requestAnimationFrame(function(){i.apply(n,t)})}};;
"use strict";Drupal.behaviors.navigation={attach(e){const l={globals:{closeDropdownRef:null,navWrapper:null,currentlyOpen:{type:null,element:null,desktopButton:null},search:{id:"search",button:null,dropdown:null,isOpen:!1,input:null,hasSuggestions:!1,suggestions:[],currentTerm:null,suggestionsElement:document.getElementById("suggestions"),icons:document.getElementById("search-dropdown-icons"),submitButtonContainer:document.getElementById("search-dropdown-submit-button-container"),submitButton:document.getElementById("search-dropdown-submit-button"),form:document.getElementById("search-dropdown-form")},mobile:{id:"mobile",button:null,dropdown:null,isOpen:!1},desktop:{id:"desktop",buttons:null,isOpen:!1}},init(){l.globals.navWrapper=document.getElementById("global-nav"),l.globals.navWrapper.classList.contains("js-nav-processed")||(l.getElements(),l.addClickHandlers(),l.addCloseHandlers(),l.hideContainers(),l.addProcessedClass(),l.addSearchHandler())},addSearchHandler(){const e=l.globals.search["input"];e.addEventListener("input",function(e){if(0===this.value.length)return l.clearSuggestions(),l.adjustIconLinksVisibility("show"),void l.adjustSearchSubmitButtonVisibility("hide");l.adjustSearchSubmitButtonVisibility("show"),l.adjustIconLinksVisibility("hide"),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{l.globals.search.currentTerm=this.value,l.getSuggestions(this.value)},250)}),e.addEventListener("keyup",function(e){e.preventDefault(),"ArrowDown"!==e.key&&"Down"!==e.key||"ArrowDown"!==e.key&&"Down"!==e.key||l.globals.search.hasSuggestions&&l.globals.search.suggestionsElement.firstChild.focus()})},getSuggestions(e){e=encodeURIComponent(e),e=new Request("https://surrey-search.clients.uk.funnelback.com/s/suggest.json?collection=surrey-meta&show=5&partial_query=".concat(e));fetch(e).then(e=>{if(200===e.status)return e.json();throw new Error("Something went wrong on api server!")}).then(e=>{e=e.filter((e,n,o)=>o.indexOf(e)==n).slice(0,3);l.updateSuggestions(e)}).catch(e=>console.error(e))},submitForm(){l.globals.search.form.submit()},clearSuggestions(){l.globals.search.hasSuggestions=!1,l.globals.search.suggestionsElement.innerHTML=""},updateSuggestions(e){const{suggestionsElement:n,input:t}=l.globals.search;if(0!==e.length){let o="";e.forEach((e,n)=>{e='<a class="search-suggestion d-block text-white" href="/search?query='.concat(encodeURIComponent(e),'">').concat(e,"</a>");o+=e}),n.innerHTML=o,l.globals.search.hasSuggestions=!0;const s=document.querySelectorAll(".search-suggestion");s.forEach(e=>{e.addEventListener("keydown",function(e){["Up","Down","ArrowUp","ArrowDown"].includes(e.key)&&(e.preventDefault(),"ArrowDown"===e.key||"Down"===e.key?e.target.nextElementSibling&&e.target.nextElementSibling.focus():"ArrowUp"!==e.key&&"Up"!==e.key||(e.target.previousElementSibling?e.target.previousElementSibling.focus():(e=t.value["length"],t.setSelectionRange(e,e),t.focus())))})})}},adjustIconLinksVisibility(e){const n=l.globals.search["icons"];if(e&&n)switch(e){case"hide":n.classList.add("d-none");break;case"show":n.classList.remove("d-none")}},adjustSearchSubmitButtonVisibility(e){const n=l.globals.search["submitButtonContainer"];if(e&&n)switch(e){case"hide":n.classList.add("d-none");break;case"show":n.classList.remove("d-none")}},closeDropdownOnScrollPosition(){const e=document.querySelector(".search-container");window.scrollY>window.pageYOffset+e.getBoundingClientRect().top+e.offsetHeight&&l.closeOpenDropdown()},addScrollHandler(){window.addEventListener("scroll",l.globals.closeDropdownRef=debounce(l.closeDropdownOnScrollPosition))},removeScrollHandler(){window.removeEventListener("scroll",l.globals.closeDropdownRef)},addProcessedClass(){l.globals.navWrapper.classList.add("js-nav-processed")},getElements(){l.globals.desktop.buttons=document.getElementById("global-nav-inner").querySelectorAll(".nav-item > .nav-link"),l.globals.mobile.button=document.getElementById("mobile-nav-toggle"),l.globals.mobile.dropdown=document.getElementById("mobile-nav"),l.globals.search.button=document.getElementById("search-dropdown-button"),l.globals.search.dropdown=document.getElementById("js-search-container"),l.globals.search.input=document.getElementById("dropdownSearchTermInput")},addClickHandlers(){const{desktop:e,mobile:n,search:o}=l.globals;e.buttons.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=l.isSomethingElseOpen().isDesktopOpen;e&&this.parentNode===l.globals.currentlyOpen.element?l.closeOpenDropdown():(e&&this.parentNode!==l.globals.currentlyOpen.element&&l.closeOpenDropdown(),l.openDesktopDropdown(this))})}),n.button.addEventListener("click",function(e){e.preventDefault();e=l.isSomethingElseOpen().isMobileOpen;e?l.closeOpenDropdown():l.openMobileDropdown()}),o.button.addEventListener("click",function(e){e.preventDefault();e=l.isSomethingElseOpen().isSearchOpen;if(e)l.closeOpenDropdown();else{l.openSearchDropdown();const n=document.getElementById("dropdownSearchTermInput");n.focus()}}),o.submitButton.addEventListener("click",function(e){e.preventDefault(),o.form.submit()})},hideContainers(){const e=l.globals.navWrapper.querySelectorAll(".nav-container a");e.forEach(e=>{e.textContent.includes("Container")&&e.parentNode.classList.add("bodged-nav")})},addCloseHandlers(){document.addEventListener("keyup",e=>{"Escape"===e.key&&l.closeOpenDropdown()}),document.addEventListener("click",e=>{l.globals.navWrapper.contains(e.target)||l.closeOpenDropdown()})},openDesktopDropdown(e){var n=l.isSomethingElseOpen()["isSearchOpen"];n&&l.closeOpenDropdown(),e.parentNode.classList.add("nav-active"),e.setAttribute("aria-expanded",!0),l.globals.desktop.isOpen=!0,l.globals.currentlyOpen.element=e.parentNode,l.globals.currentlyOpen.desktopButton=e,l.globals.currentlyOpen.type=l.globals.desktop.id},openMobileDropdown(){var e=l.isSomethingElseOpen()["isSearchOpen"];e&&l.closeOpenDropdown(),l.globals.mobile.dropdown.classList.remove("d-none"),l.globals.mobile.button.classList.add("mobile-nav-open"),l.globals.mobile.button.setAttribute("aria-expanded",!0),l.globals.mobile.isOpen=!0,l.globals.currentlyOpen.element=l.globals.mobile.dropdown,l.globals.currentlyOpen.type=l.globals.mobile.id},openSearchDropdown(){var{isDesktopOpen:e,isMobileOpen:n}=l.isSomethingElseOpen();(e||n)&&l.closeOpenDropdown(),l.globals.search.dropdown.classList.add("nav-active"),l.globals.search.button.setAttribute("aria-expanded",!0),l.globals.search.isOpen=!0,l.addScrollHandler(),l.globals.currentlyOpen.element=l.globals.search.dropdown,l.globals.currentlyOpen.type=l.globals.search.id},closeOpenDropdown(){var e=l.globals.currentlyOpen["type"];if(e){switch(e){case l.globals.mobile.id:l.globals.currentlyOpen.element.classList.add("d-none"),l.globals.mobile.button.classList.remove("mobile-nav-open"),l.globals.mobile.button.setAttribute("aria-expanded",!1),l.globals.mobile.isOpen=!1;break;case l.globals.search.id:l.globals.currentlyOpen.element.classList.remove("nav-active"),l.globals.search.button.setAttribute("aria-expanded",!1),l.globals.search.isOpen=!1,l.removeScrollHandler();break;case l.globals.desktop.id:l.globals.currentlyOpen.element.classList.remove("nav-active"),l.globals.currentlyOpen.desktopButton.setAttribute("aria-expanded",!1),l.globals.desktop.isOpen=!1}l.globals.currentlyOpen={type:null,element:null,desktopButton:null}}},isSomethingElseOpen(e){var{desktop:n,mobile:o,search:t}=l.globals;return{isDesktopOpen:n.isOpen,isMobileOpen:o.isOpen,isSearchOpen:t.isOpen}}};l.init()}};;
